---
layout:     post
title:      Amazon 碎碎念
date:       2016-01-18
summary:    这是一篇在亚马逊Elastic MapReduce上完成作业后的小小记(tu)录(cao)。
categories: Code
---


## 起因

本学期选修的一门数据库课程的大作业是需要在Hadoop上使用mapreduce框架实现多个Join算法。代码编写完毕后有感于无处进行真机实验，遂将目光投向云服务提供商。欣喜地发现Amazon的Elastic MapReduce服务能够满足我的需求，遂计划将代码迁移至EMR运行。

## 正题

然后现实太过曲折，不得不在此记(tu)录(cao)一下：

* Hadoop从 `s3://*` 或者 `s3n://` 读不出文件不要着急，对说的就是`Wrong FS: s3n://`，不妨把文件从S3搬到HDFS上。
* 搬文件需要ssh到master节点上，页面也给出了清晰的ssh密钥使用教程，然而，ec2的ssh权限默认是不开的...
* 遇到OutOfMemoryError的时候，除了花大量时间改配置外，还可以换一个内存大一些的集群，反正那么短的小时数也不贵...


## 最后
以上3点每点均耗费了将近两个小时解决，作业deadline前尝试完全没用过的产品真是非常非常作死...